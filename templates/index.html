<!DOCTYPE html>
<html>
<head>
    <title>Next Day Energy Prediction</title>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            text-align: center; 
            margin-top: 50px; 
            background-color: #f2f2f2; 
        }
        form { 
            display: inline-block; 
            padding: 20px; 
            border: 1px solid #ccc; 
            border-radius: 12px; 
            background-color: #fff; 
            box-shadow: 0px 4px 10px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }
        input[type="file"] { margin-bottom: 12px; }
        input[type="submit"] { 
            background-color: #4CAF50; 
            color: white; 
            padding: 8px 16px; 
            border: none; 
            border-radius: 6px; 
            cursor: pointer; 
        }
        input[type="submit"]:hover { background-color: #45a049; }
        h2, h3 { color: #333; }
        .result-box {
            margin-top:20px; 
            padding:15px; 
            border-radius:10px; 
            background:#e8f5e9; 
            display:inline-block; 
            box-shadow: 0px 3px 8px rgba(0,0,0,0.1);
        }
        .error-box {
            margin-top:20px; 
            padding:15px; 
            border-radius:10px; 
            background:#ffebee; 
            display:inline-block; 
            box-shadow: 0px 3px 8px rgba(0,0,0,0.1);
            color: #c62828;
        }
    </style>
</head>
<body>
    <h2>Next Day Energy Demand Prediction</h2>

    <!-- Upload Dataset -->
    <form method="POST" action="/upload" enctype="multipart/form-data">
        <h3>Step 1: Upload Dataset</h3>
        <input type="file" name="dataset" accept=".csv,.xlsx" required><br>
        <input type="submit" value="Upload & Train">
    </form>

    <!-- Predict Next Day -->
    <form method="POST" action="/predict">
        <h3>Step 2: Predict</h3>
        <input type="submit" value="Predict Next Day">
    </form>

    {% if latest_date %}
        <p>Latest Date in Dataset: <b>{{ latest_date }}</b></p>
        <p>Latest Energy: <b>{{ latest_energy }}</b> kWh</p>
    {% endif %}

    {% if message %}
        <div class="result-box"><h3>{{ message }}</h3></div>
    {% endif %}

    {% if result %}
        <div class="result-box"><h3>{{ result }}</h3></div>
    {% endif %}

    {% if error %}
        <div class="error-box"><h3>{{ error }}</h3></div>
    {% endif %}
</body>
</html>
